<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>실시간 접수 상황 확인 페이지</title>

  {% include 'center/layout/head.html' %}
  {% include 'center/layout/base.html' %}


  <style>
    /* content*/
    .content {
      width: 83%;
      height: 80%;
      float: left;
      color: black;
      padding-top: 17px;
      padding-right: 30px;
      font-size: 18px;
      font-family: 'Noto Sans KR', sans-serif;
    }

    .table {
      border: 1.6px solid black;
      text-align: center;
    }

    /* footer */
    .basefooter {
      width: 100%;
      height: 5%;
    }
  </style>


  <script>
    $(function () {
      // 첫 번째 URL에 대한 AJAX 요청
      var request1 = $.ajax({
        url: "http://127.0.0.1:8000/customer/customer_info/",
        method: "GET",
        dataType: 'json'
      });

      // 두 번째 URL에 대한 AJAX 요청
      var request2 = $.ajax({
        url: "http://localhost:8000/customer/orderdata/",
        method: "GET",
        dataType: 'json'
      });
      Promise.all([request1, request2]).then(function (responses) {
        const response1 = responses[0];
        const response2 = responses[1];

        console.log(response1, response2);



      // 두 개의 AJAX 요청이 완료될 때까지 기다린 후 처리
      // Promise.all([request1, request2]).then(function (responses) {
      //   const response1 = responses[0];
      //   const response2 = responses[1];

      // // 첫 번째 URL에서 가져온 데이터 처리
      // for (var i = 0; i < response1.length; i++) {
      //   var user = response1[i];
      //   var row = $("<tr>");
      //   $("<td>").text(user.username).appendTo(row);
      //   $("<td>").text(user.name).appendTo(row);
      //   $("<td>").text(user.phone_number).appendTo(row);
      //   $("<td>").text(user.gear_type).appendTo(row);
      //   $("#data_table").append(row);
      // }

      // // 두 번째 URL에서 가져온 데이터 처리
      // for (var j = 0; j < response2.length; j++) {
      //   var data = response2[j];
      //   // 처리 로직 작성
      // }
    });
    });
  </script>


</head>


<body>
  <div class="content">
    <table class="table table-hover" id="data_table">
      <thead class="table-warning">
        <tr>
          <th scope="col"></th>
          <th scope="col">ID</th>
          <th scope="col">전화번호</th>
          <th scope="col">기어</th>
          <th scope="col">출발지</th>
          <th scope="col">목적지</th>
          <th scope="col">등록일</th>
          <th scope="col">접수상황</th>
          <th scope="col">최종확인</th>
        </tr>
      </thead>
      <tbody class="table-group-divider"></tbody>
    </table>

  </div>


  <footer class="basefooter"></footer>
</body>

</html>

<!-- 접수상황 버튼 누르면 
  1. __완료가 text로 되게 (색깔 유의)
  2. 최종확인 버튼 활성화면서 깜박깜박거리게 -->